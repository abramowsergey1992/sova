function frontPage(){function e(e,t){return t/100*e}$("._square").each(function(){$(this).css("min-height",$(this).outerWidth())}),smScroll=2*window.innerHeight;var t=new ScrollMagic.Controller;new ScrollMagic.Scene({duration:smScroll}).setPin("#front-top").addTo(t);new ScrollMagic.Scene({duration:e(30,smScroll)}).setTween(TweenMax.to(".front-top__back ",1,{opacity:0,top:-1*e(30,smScroll),ease:Linear.easeNone})).addTo(t),new ScrollMagic.Scene({duration:e(30,smScroll)}).setTween(TweenMax.to(".front-top__bg",1,{translateY:0,right:0,bottom:0,scale:1,ease:Linear.easeNone})).addTo(t),new ScrollMagic.Scene({offset:e(30,smScroll),duration:e(15,smScroll)}).setTween(TweenMax.to(".front-top__bbg ",1,{opacity:1,ease:Linear.easeNone})).addTo(t),new ScrollMagic.Scene({offset:e(15,smScroll),duration:e(30,smScroll)}).setTween(TweenMax.to(".front-top__fw-str1",1,{right:"0%",ease:Linear.easeNone})).addTo(t),new ScrollMagic.Scene({offset:e(15,smScroll),duration:e(30,smScroll)}).setTween(TweenMax.to(".front-top__fw-str2",1,{left:"0%",ease:Linear.easeNone})).addTo(t),new ScrollMagic.Scene({offset:e(25,smScroll),duration:e(10,smScroll)}).setTween(TweenMax.to(".front-top__anim-opacity",1,{opacity:1,ease:Linear.easeNone})).addTo(t),new ScrollMagic.Scene({offset:e(70,smScroll),duration:e(30,smScroll)}).setTween(TweenMax.to(".front-top__fw-str1",1,{right:"-100vw",ease:Linear.easeNone})).addTo(t),new ScrollMagic.Scene({offset:e(70,smScroll),duration:e(30,smScroll)}).setTween(TweenMax.to(".front-top__fw-str2",1,{left:"-100vw",ease:Linear.easeNone})).addTo(t),new ScrollMagic.Scene({offset:e(80,smScroll),duration:e(15,smScroll)}).setTween(TweenMax.to(".front-top__anim-opacity-2 ",1,{opacity:.1,ease:Linear.easeNone})).addTo(t),$(window).on("resize",function(){$("._square").each(function(){$(this).css("min-height",$(this).outerWidth())})});const o=new Swiper(".you-get__slider",{slidesPerView:1,autoHeight:!(900<$(window).width()),allowTouchMove:!1});t=new Swiper(".front-loc__slider-img",{slidesPerView:1});const n=new Swiper(".front-loc__locations",{slidesPerView:1,loop:!1,thumbs:{swiper:t},pagination:{el:".front-loc__locations-pagi",type:"fraction"},navigation:{nextEl:".front-loc__locations-next",prevEl:".front-loc__locations-prev"}});new Swiper(".front-structura__slider",{slidesPerView:1.1,spaceBetween:18,breakpoints:{480:{slidesPerView:2},800:{slidesPerView:2.5},1024:{slidesPerView:3}}}),new Swiper(".front-cases__swiper",{slidesPerView:1,spaceBetween:16,breakpoints:{992:{slidesPerView:1.5}},mousewheel:{forceToAxis:!0},navigation:{nextEl:".front-cases__next",prevEl:".front-cases__prev"}});const i=new Swiper(" .front-steps__slider",{slidesPerView:1,allowTouchMove:!1});new Swiper(".front-top__left-swiper ",{slidesPerView:1,autoplay:{delay:5e3}});const s=new Swiper(" .front-news__slider",{slidesPerView:1,allowTouchMove:!1});$(".front-news__tab").click(function(){$(".front-news__tab").removeClass("_active"),$(this).addClass("_active");let e=0;"news"==$(this).data("filter")&&(e=0),"publication"==$(this).data("filter")&&(e=1),s.slideTo(e)}),$(".you-get .filters__btn").click(function(){$(".you-get .filters__btn").removeClass("_active"),$(this).addClass("_active"),o.slideTo($(this).data("slide"))});let a=$(".front-steps__container-svg circle");$(".front-steps__input").ionRangeSlider({to:1,min:1,max:6,onChange:function(e){i.slideTo(e.from-1),a.attr("procent",e.from),$(".front-steps__input-grid span").each(function(){parseInt($(this).text())<=e.from?$(this).addClass("_active"):$(this).removeClass("_active")})}}),$(".front-structura-item .front-structura-item__front").click(function(){$(this).closest(".front-structura-item").addClass("_rotate")});let l=$(".front-steps__input").data("ionRangeSlider");$(".front-steps__input-grid span").click(function(){let e=parseInt($(this).text());$(".front-steps__input").val(e),i.slideTo(e-1),a.attr("procent",e),$(".front-steps__input").attr("value",e),console.log(l),l.update({from:e,to:e}),$(".front-steps__input-grid span").each(function(){parseInt($(this).text())<=e?$(this).addClass("_active"):$(this).removeClass("_active")})}),$(".front-loc .filters__btn").click(function(){$(".front-loc .filters__btn").removeClass("_active"),$(this).addClass("_active");let e=$(this).data("filter");"all"!=e?$(".front-loc__slide-filter").each(function(){e!=$(this).data("filter")?($(this).addClass("_hidden"),$(this).removeClass("swiper-slide")):($(this).removeClass("_hidden"),$(this).addClass("swiper-slide"))}):($(".front-loc__wrap  .swiper-wrapper > div").removeClass("_hidden"),$(".front-loc__wrap  .swiper-wrapper > div").addClass("swiper-slide")),n.update(),n.updateProgress()})}function locationPage(){$(".location-top__down").click(function(){$("html, body").stop().animate({scrollTop:window.innerHeight},500,"swing",function(){})})}function locationlist(){let t=$("#locations-map");$(".location-prev__gallery").each(function(){new Swiper(this,{speed:400,navigation:{nextEl:$(this).find(".location-prev__gallery-next")[0],prevEl:$(this).find(".location-prev__gallery-prev")[0]},spaceBetween:10})});const e=new Swiper(".locationlist-slide",{speed:400,autoHeight:!0,allowTouchMove:!1,spaceBetween:30});$(".locations-page  .filters__btn").click(function(){$(".locations-page  .filters__btn").removeClass("_active"),$(this).addClass("_active"),e.slideTo($(this).data("slide"))}),$(".location-map-prev__slider").each(function(){new Swiper(this,{speed:400,pagination:{el:$(this).find(".location-map-prev__slider-pagi")[0],type:"bullets",clickable:!0},spaceBetween:10})});let s;$.getJSON(t.data("json"),function(e){s=e.locations,setTimeout(function(){var n=new ymaps.Map("locations-map",{center:[55.30954,37.721587],zoom:8,controls:[]},{searchControlProvider:"yandex#search"});function i(e){e.forEach(e=>{myPlacemark=new ymaps.Placemark(e.coord,{balloonContent:e.title},{id:e.id,balloonCloseButton:!1,hideIconOnBalloonOpen:!1,iconLayout:"default#image",iconImageHref:t.data("icon"),iconImageSize:[50,50],iconImageOffset:[-25,-25]}),myPlacemark.events.add(["balloonopen"],function(e){e.get("target").options.set("iconImageHref",t.data("activeicon")),console.log(e.get("target").geometry.getCoordinates()),console.log(e.get("target").options.get("id")),n.panTo(e.get("target").geometry.getCoordinates()),$(".location-map-prev").stop().slideUp(),$("#location-map-prev-"+e.get("target").options.get("id")).stop().slideDown()}),myPlacemark.events.add(["balloonclose"],function(e){e.get("target").options.set("iconImageHref",t.data("icon"))}),n.geoObjects.add(myPlacemark)})}$("#filter-city").change(function(){let e=$("#filter-city option:selected").data("coord");console.log(e),e.length&&null!=e&&(console.log(e.split(",")),n.panTo([parseFloat(e.split(",")[0]),parseFloat(e.split(",")[1])]))}),$("#filter-status, #filter-city").change(function(){let e=[];n.geoObjects.removeAll(),$(".location-map-prev").stop().slideUp(),e=Array.from(s),console.log("s",e);let t=$("#filter-city option:selected").attr("value"),o=$("#filter-status option:selected").attr("value");"all"==t||null==t?$(".location-prev").removeClass("_city-hidden"):(e=e.filter(function(e){return e.city==t}),$(".location-prev").each(function(){t==$(this).data("city")?$(this).removeClass("_city-hidden"):$(this).addClass("_city-hidden")})),"all"==o||null==o?$(".location-prev").removeClass("_status-hidden"):(e=e.filter(function(e){return 0<=e.tags.indexOf(o)}),$(".location-prev").each(function(){0<=$(this).data("status").split("|").indexOf(o)?$(this).removeClass("_status-hidden"):$(this).addClass("_status-hidden")})),console.log("location",e),i(e)}),i(e.locations)},2e3)})}function aosInit(){AOS.init({disable:!1,startEvent:"DOMContentLoaded",initClassName:"aos-init",animatedClassName:"aos-animate",useClassNames:!1,disableMutationObserver:!1,debounceDelay:50,throttleDelay:99,offset:120,delay:0,duration:600,easing:"ease",once:!0,mirror:!1,anchorPlacement:"top-bottom"})}function bigslider(){$(".big-slider").each(function(){let e=$(this);console.log("big-slider__full-slider",e.find(".big-slider__full-slider")[0]),e.find(".big-slider__thumb-slider").html(e.find(".big-slider__full-slider").html());var t=new Swiper(e.find(".big-slider__thumb-slider")[0],{slidesPerView:8,loop:!0,spaceBetween:28,watchSlidesProgress:!0,setWrapperSize:!0,breakpoints:{320:{slidesPerView:"auto"},992:{slidesPerView:7},1300:{slidesPerView:8}}});const o=new Swiper(e.find(".big-slider__content-slider")[0],{setWrapperSize:!0,slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},spaceBetween:28,allowTouchMove:!1});new Swiper(e.find(".big-slider__full-slider")[0],{slidesPerView:1,spaceBetween:10,setWrapperSize:!0,loop:!0,pagination:{el:e.find(".big-slider__pagination")[0],type:"fraction"},navigation:{nextEl:e.find(".big-slider__bottom-nav-next")[0],prevEl:e.find(".big-slider__bottom-nav-prev")[0]},thumbs:{swiper:t},on:{slideChange:function(e){o.slideTo(e.realIndex)}}})})}function feedbackForm(){$("#feedback-form").validate({errorPlacement:function(e,t){},submitHandler:function(e){$("#feedback-form .btn-1").attr("disabled","disabled"),$.ajax({url:$(e).attr("action"),data:$(e).serialize(),method:"POST",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},context:document.body,success:function(){popupOpen("#feedback-popup-thanks"),$("#feedback-form .btn-1").removeAttr("disabled")},error:function(){popupOpen("#feedback-popup-error"),$("#feedback-form btn-1").removeAttr("disabled")}})}}),$("#feedback-popup-form").validate({errorPlacement:function(e,t){},submitHandler:function(e){$("#feedback-popup-form .btn-1").attr("disabled","disabled"),$.ajax({url:$(e).attr("action"),data:$(e).serialize(),method:"POST",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},context:document.body,success:function(){popupOpen("#feedback-popup-thanks"),$("#feedback-popup-form .btn-1").removeAttr("disabled")},error:function(){popupOpen("#feedback-popup-error"),$("#feedback-popup-form btn-1").removeAttr("disabled")}})}})}function form(){$("._mask-int").each(function(){Inputmask("9{1,5}").mask(this)}),$("._mask-oneint").each(function(){Inputmask({mask:"9",placeholder:""}).mask(this)}),$("._mask-phone").each(function(){Inputmask("+7 (999) 999-99-99").mask(this)}),$("._mask-time").each(function(){Inputmask("9{1,2}:9{1,2}").mask(this)}),$("._mask-date,._mask-calendar").each(function(){Inputmask("99.99.9999").mask(this)}),$(".select2").select2({minimumResultsForSearch:-1}),$(".btn-1,.btn-2,.btn-3, .btn-4").each(function(){$(this).html(`<span class='button-content'><span>${$(this).html()}</span><span>${$(this).html()}</span></span>`)})}function hoverCursor(){$(".hoverCursor").length&&$(".hoverCursor").each(function(){let e=$(this).parent(),n=$(this);e.on("mousemove",function(e){var t=$(this).offset(),o=e.pageX-t.left-35,t=e.pageY-t.top-35;gsap.to(n,.03,{left:o,top:t,ease:Power4.easOut})})})}function header(){let e=$(".header__hidden-menu");$(".header__menu-btn").click(function(){$(this).toggleClass("_open"),$(this).hasClass("_open")?e.stop().slideDown({start:function(){$(this).css({display:"flex"})}}):e.stop().slideUp()})}function mixiltup(){$(".mixiltup").length&&mixitup(".mixiltup",{selectors:{target:".mix"}})}function paginator(){$(".paginator__more").click(function(){$(this).closest(".paginator").addClass("_view-hidden")})}function popupClose(e){let t=$(e);t.removeClass("_animate"),setTimeout(function(){t.removeClass("_display")},400)}function popupOpen(e){$(".popup._display").length&&$(".popup._display").each(function(){popupClose("#"+$(this).attr("id"))});let t=$(e);t.addClass("_display"),setTimeout(function(){t.addClass("_animate")},100)}function popup(){$("[data-popup]").click(function(){popupOpen($(this).data("popup"))}),$(".open-video").click(function(){$(".video-popup").fadeIn(),$(".video-popup__wrap").html('<video autoplay src="'+$(".open-video").data("video")+'"/>')}),$(".video-popup__overlay ,.video-popup__close").click(function(){$(this).closest(".video-popup").stop().fadeOut(function(){$(".video-popup__wrap").html("")})}),$(".popup__overlay ,.popup__close").click(function(){popupClose("#"+$(this).closest(".popup").attr("id"))}),$(".popup-location__overlay ,.popup-location__close").click(function(){$(this).closest(".popup-location").fadeOut()})}$(function(){}),$(function(){}),$(function(){}),$(function(){}),$(function(){}),$(function(){}),$(function(){});var vh=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${vh}px`);var width=window.innerWidth;function video(){$(".video-click-play").click(function(){this.play();let e=this;$(this).addClass("_play"),console.log($(this),"ssssx"),this.onended=function(){e.currentTime=0,e.classList.remove("_play")}})}window.addEventListener("resize",()=>{var e;width!=window.innerWidth&&(e=.01*window.innerHeight,document.documentElement.style.setProperty("--vh",`${e}px`),width=window.innerWidth)}),$(function(){header(),form(),aosInit(),hoverCursor(),paginator(),bigslider(),locationlist(),mixiltup(),popup(),video(),feedbackForm(),locationPage(),frontPage()});