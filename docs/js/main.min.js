function frontPage(){if($("#front-top").length){function e(e,t){return t/100*e}$(".download-presentation").css("top",$(".front-top__right img").height()+110),$("._square").each(function(){$(this).css("min-height",$(this).outerWidth())}),smScroll=2*window.innerHeight;var n=new ScrollMagic.Controller;new ScrollMagic.Scene({duration:smScroll}).setPin("#front-top").addTo(n);new ScrollMagic.Scene({duration:e(30,smScroll)}).setTween(TweenMax.to(".front-top__back ",1,{opacity:0,top:-1*e(30,smScroll),ease:Linear.easeNone})).addTo(n),new ScrollMagic.Scene({duration:e(30,smScroll)}).setTween(TweenMax.to(".front-top__bg",1,{translateY:0,translateX:0,right:0,bottom:0,scale:1,ease:Linear.easeNone})).addTo(n),new ScrollMagic.Scene({offset:e(3,smScroll),duration:e(3,smScroll)}).setTween(TweenMax.to(".front-top  .download-presentation",1,{opacity:0,ease:Linear.easeNone})).addTo(n),new ScrollMagic.Scene({offset:e(30,smScroll),duration:e(15,smScroll)}).setTween(TweenMax.to(".front-top__bbg ",1,{opacity:1,ease:Linear.easeNone})).addTo(n),new ScrollMagic.Scene({offset:e(15,smScroll),duration:e(30,smScroll)}).setTween(TweenMax.to(".front-top__fw-str1",1,{right:"0%",ease:Linear.easeNone})).addTo(n),new ScrollMagic.Scene({offset:e(15,smScroll),duration:e(30,smScroll)}).setTween(TweenMax.to(".front-top__fw-str2",1,{left:"0%",ease:Linear.easeNone})).addTo(n),new ScrollMagic.Scene({offset:e(25,smScroll),duration:e(10,smScroll)}).setTween(TweenMax.to(".front-top__anim-opacity",1,{opacity:1,ease:Linear.easeNone})).addTo(n),new ScrollMagic.Scene({offset:e(70,smScroll),duration:e(30,smScroll)}).setTween(TweenMax.to(".front-top__fw-str1",1,{right:"-100vw",ease:Linear.easeNone})).addTo(n),new ScrollMagic.Scene({offset:e(70,smScroll),duration:e(30,smScroll)}).setTween(TweenMax.to(".front-top__fw-str2",1,{left:"-100vw",ease:Linear.easeNone})).addTo(n),new ScrollMagic.Scene({offset:e(90,smScroll),duration:e(55,smScroll)}).setTween(TweenMax.to(".front-top__anim-opacity-2 ",1,{opacity:0,ease:Linear.easeNone})).addTo(n),$(window).on("resize",function(){$(".download-presentation").css("top",$(".front-top__right img").height()+110),$("._square").each(function(){$(this).css("min-height",$(this).outerWidth())})});const a=new Swiper(".you-get__slider",{slidesPerView:1,spaceBetween:100,autoHeight:!(900<$(window).width()),allowTouchMove:!1});n=new Swiper(".front-loc__slider-img",{slidesPerView:1,speed:1e3,watchSlidesProgress:!0,effect:"creative",pagination:{el:".front-loc__pagi",type:"fraction"},creativeEffect:{prev:{translate:["-50%",0,-400]},next:{translate:["100%",0,0]}}});const s=new Swiper(".front-loc__locations",{slidesPerView:1,loop:!1,thumbs:{swiper:n},pagination:{el:".front-loc__locations-pagi",type:"fraction"},navigation:{nextEl:".front-loc__locations-next",prevEl:".front-loc__locations-prev"}});new Swiper(".front-structura__slider",{slidesPerView:1.1,spaceBetween:18,breakpoints:{480:{slidesPerView:2},800:{slidesPerView:2.5},1024:{slidesPerView:3}}}),new Swiper(".front-cases__swiper",{slidesPerView:1,spaceBetween:16,breakpoints:{992:{slidesPerView:1.5}},mousewheel:{forceToAxis:!0},navigation:{nextEl:".front-cases__next",prevEl:".front-cases__prev"}});const l=new Swiper(" .front-steps__slider",{slidesPerView:1});new Swiper(".front-top__left-swiper ",{slidesPerView:1,loop:!0,autoplay:{delay:5e3}});const r=new Swiper(" .front-news__slider",{slidesPerView:1,speed:800,allowTouchMove:!1});$(".front-news__tab").click(function(){$(".front-news__tab").removeClass("_active"),$(this).addClass("_active");let e=0;"news"==$(this).data("filter")&&(e=0),"publication"==$(this).data("filter")&&(e=1),r.slideTo(e)}),$(".you-get .filters__btn").click(function(){$(".you-get .filters__btn").removeClass("_active"),$(this).addClass("_active"),a.slideTo($(this).data("slide"))});let t=$(".front-steps__container-svg circle");$(".front-steps__input").ionRangeSlider({min:1,max:6,onChange:function(e){l.slideTo(e.from-1),t.attr("procent",e.from),$(".front-steps__input-grid span").each(function(){parseInt($(this).text())<=e.from?$(this).addClass("_active"):$(this).removeClass("_active")})}}),$(".front-structura-item ").hover(function(){$(".front-structura-item").removeClass("_rotate"),$(this).addClass("_rotate")},function(){$(".front-structura-item").removeClass("_rotate")});let o=$(".front-steps__input").data("ionRangeSlider");l.on("slideChange",function(){console.log("sss");let e=l.activeIndex+1;console.log(e,$(".front-steps__input").val(),e!=$(".front-steps__input").val()),e!=$(".front-steps__input").val()&&($(".front-steps__input").val(e),t.attr("procent",e),$(".front-steps__input").attr("value",e),o.update({from:e,to:e})),$(".front-steps__input-grid span").each(function(){parseInt($(this).text())<=e?$(this).addClass("_active"):$(this).removeClass("_active")})}),$(".front-steps__input-grid span").click(function(){let e=parseInt($(this).text());$(".front-steps__input").val(e),l.slideTo(e-1),t.attr("procent",e),$(".front-steps__input").attr("value",e),console.log(o),o.update({from:e,to:e}),$(".front-steps__input-grid span").each(function(){parseInt($(this).text())<=e?$(this).addClass("_active"):$(this).removeClass("_active")})});let i=$("#front-loc-map");ymaps.ready(function(){var e=new ymaps.Map("front-loc-map",{center:[55.30954,37.721587],zoom:6,controls:[]},{searchControlProvider:"yandex#search"});function t(){e.geoObjects.removeAll(),$(".front-loc__slide-filter").each(function(){$(this).hasClass("_hidden")||(myPlacemark=new ymaps.Placemark($(this).data("coord"),{balloonContent:$(this).find(".front-loc-content__title")},{id:$(this).data("id"),balloonCloseButton:!1,hideIconOnBalloonOpen:!1,iconLayout:"default#image",iconImageHref:i.data("icon"),iconImageSize:[50,50],iconImageOffset:[-25,-25]}),myPlacemark.events.add(["balloonopen"],function(o){if(o.get("target").options.set("iconImageHref",i.data("activeicon")),console.log(o.get("target").geometry.getCoordinates()),console.log(o.get("target").options.get("id")),e.panTo(o.get("target").geometry.getCoordinates()),$(".location-map-prev").stop().slideUp(),window.matchMedia("(max-width: 992px)").matches)console.log("sss"),$("#popup-location-"+o.get("target").options.get("id")).stop().fadeIn();else{let t=0;s.slides.each(e=>{e.dataset.id==o.get("target").options.get("id")&&s.slideTo(t),t++})}}),myPlacemark.events.add(["balloonclose"],function(e){e.get("target").options.set("iconImageHref",i.data("icon"))}),e.geoObjects.add(myPlacemark))})}t(),$(".front-loc .filters__btn").click(function(){$(".front-loc .filters__btn").removeClass("_active"),$(this).addClass("_active");let e=$(this).data("filter");"all"!=e?$(".front-loc__slide-filter").each(function(){e!=$(this).data("filter")?($(this).addClass("_hidden"),$(this).removeClass("swiper-slide")):($(this).removeClass("_hidden"),$(this).addClass("swiper-slide"))}):($(".front-loc__wrap  .swiper-wrapper > div").removeClass("_hidden"),$(".front-loc__wrap  .swiper-wrapper > div").addClass("swiper-slide")),s.update(),s.updateProgress(),t()})}),$(".front-loc__btn-toogle-map").click(function(){$(this).css("display","none"),$(".front-loc").addClass("_map"),$(".front-loc").removeClass("_list"),$(".front-loc__btn-toogle-list").css("display","block"),$(".front-loc__map").fadeIn()}),$(".front-loc__btn-toogle-list").click(function(){$(this).css("display","none"),$(".front-loc__btn-toogle-map").css("display","block"),$(".front-loc__map").fadeOut(),$(".front-loc").removeClass("_map"),$(".front-loc").addClass("_list")})}}function locationPage(){$(".location-top__down").click(function(){$("html, body").stop().animate({scrollTop:window.innerHeight},500,"swing",function(){})})}function locationlist(){let t=$("#locations-map");$(".location-prev__gallery").each(function(){new Swiper(this,{speed:400,navigation:{nextEl:$(this).find(".location-prev__gallery-next")[0],prevEl:$(this).find(".location-prev__gallery-prev")[0]},spaceBetween:10})});const e=new Swiper(".locationlist-slide",{speed:400,autoHeight:!0,allowTouchMove:!1,spaceBetween:100});$(".locations-page  .filters__btn").click(function(){$(".locations-page  .filters__btn").removeClass("_active"),$(this).addClass("_active"),e.slideTo($(this).data("slide"))}),$(".location-map-prev__slider").each(function(){new Swiper(this,{speed:400,pagination:{el:$(this).find(".location-map-prev__slider-pagi")[0],type:"bullets",clickable:!0},spaceBetween:10})});let a;$.getJSON(t.data("json"),function(e){a=e.locations,setTimeout(function(){var i=new ymaps.Map("locations-map",{center:[55.30954,37.721587],zoom:8,controls:[]},{searchControlProvider:"yandex#search"});function n(e){e.forEach(e=>{myPlacemark=new ymaps.Placemark([parseFloat(e.coord.split(",")[0].trim()),parseFloat(e.coord.split(",")[1].trim())],{balloonContent:e.title},{id:e.id,balloonCloseButton:!1,hideIconOnBalloonOpen:!1,iconLayout:"default#image",iconImageHref:t.data("icon"),iconImageSize:[50,50],iconImageOffset:[-25,-25]}),myPlacemark.events.add(["balloonopen"],function(o){if(o.get("target").options.set("iconImageHref",t.data("activeicon")),console.log("111",o.get("target").geometry.getCoordinates()),console.log(o.get("target").options.get("id")),i.panTo(o.get("target").geometry.getCoordinates()),window.matchMedia("(max-width: 992px)").matches)console.log("sss"),$("#popup-location-"+o.get("target").options.get("id")).stop().fadeIn();else{let e=0,t=$("#location-map-prev-"+o.get("target").options.get("id"));$(".location-map-prev._display").length&&(e=1),$(".location-map-prev").removeClass("_display"),$(".location-map-prev").removeClass("_animate"),$(".location-map-prev").removeClass("_duration"),t.addClass("_display"),setTimeout(function(){e&&t.addClass("_duration"),t.addClass("_animate")},10)}}),myPlacemark.events.add(["balloonclose"],function(e){e.get("target").options.set("iconImageHref",t.data("icon"))}),i.geoObjects.add(myPlacemark)})}$(".location-map-prev__close").click(function(){let e=$(this).closest(".location-map-prev");e.removeClass("_duration"),setTimeout(function(){e.removeClass("_animate"),setTimeout(function(){e.removeClass("_display")},500)},100)}),$("#filter-city").change(function(){let e=$("#filter-city option:selected").data("coord");console.log(e),e.length&&null!=e&&(console.log(e.split(",")),i.panTo([parseFloat(e.split(",")[0]),parseFloat(e.split(",")[1])]))}),$("#filter-status, #filter-city").change(function(){let e=[];i.geoObjects.removeAll(),$(".location-map-prev").stop().slideUp(),e=Array.from(a),console.log("s",e);let t=$("#filter-city option:selected").attr("value"),o=$("#filter-status option:selected").attr("value");"all"==t||null==t?$(".location-prev").removeClass("_city-hidden"):(e=e.filter(function(e){return e.city==t}),$(".location-prev").each(function(){t==$(this).data("city")?$(this).removeClass("_city-hidden"):$(this).addClass("_city-hidden")})),"all"==o||null==o?$(".location-prev").removeClass("_status-hidden"):(e=e.filter(function(e){return 0<=e.tags.indexOf(o)}),$(".location-prev").each(function(){0<=$(this).data("status").split("|").indexOf(o)?$(this).removeClass("_status-hidden"):$(this).addClass("_status-hidden")})),console.log("location",e),n(e)}),n(e.locations)},2e3)})}function aosInit(){$(".t-animate").each(function(){$(this).attr("data-aos","fade-up")}),setTimeout(function(){AOS.init({disable:!1,startEvent:"DOMContentLoaded",initClassName:"aos-init",animatedClassName:"aos-animate",useClassNames:!1,disableMutationObserver:!1,debounceDelay:50,throttleDelay:99,offset:120,delay:0,duration:600,easing:"ease",once:!0,mirror:!1,anchorPlacement:"top-bottom"})},100)}function bigslider(){$(".big-slider").each(function(){let e=$(this);console.log("big-slider__full-slider",e.find(".big-slider__full-slider")[0]);let t=!0;e.find(".big-slider__full-slider").find(".swiper-slide");e.find(".big-slider__thumb-slider").html(e.find(".big-slider__full-slider").html()),1300<window.innerWidth&&t<8&&(t=!1),992<window.innerWidth&&t<7&&(t=!1);var o=new Swiper(e.find(".big-slider__thumb-slider")[0],{slidesPerView:8,loop:t,speed:800,spaceBetween:28,watchSlidesProgress:!0,setWrapperSize:!0,breakpoints:{320:{slidesPerView:"auto"},992:{slidesPerView:7},1300:{slidesPerView:8}}});const i=new Swiper(e.find(".big-slider__content-slider")[0],{setWrapperSize:!0,slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},spaceBetween:28,allowTouchMove:!1});new Swiper(e.find(".big-slider__full-slider")[0],{slidesPerView:1,spaceBetween:10,setWrapperSize:!0,loop:!0,speed:800,pagination:{el:e.find(".big-slider__pagination")[0],type:"fraction"},navigation:{nextEl:e.find(".big-slider__bottom-nav-next")[0],prevEl:e.find(".big-slider__bottom-nav-prev")[0]},thumbs:{swiper:o},on:{slideChange:function(e){i.slideTo(e.realIndex)}}})})}function feedbackForm(){$("#feedback-form").validate({errorPlacement:function(e,t){},submitHandler:function(e){$("#feedback-form button[type='submit']").attr("disabled","disabled"),$.ajax({url:$(e).attr("action"),data:$(e).serialize(),method:"POST",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},context:document.body,success:function(){popupOpen("#feedback-popup-thanks"),$("#feedback-form button[type='submit']").removeAttr("disabled")},error:function(){popupOpen("#feedback-popup-error"),$("#feedback-form button[type='submit']").removeAttr("disabled")}})}}),$("#feedback-popup-form").validate({errorPlacement:function(e,t){},submitHandler:function(e){$("#feedback-popup-form button[type='submit']").attr("disabled","disabled"),$.ajax({url:$(e).attr("action"),data:$(e).serialize(),method:"POST",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},context:document.body,success:function(){popupOpen("#feedback-popup-thanks"),$("#feedback-popup-form button[type='submit']").removeAttr("disabled")},error:function(){popupOpen("#feedback-popup-error"),$("#feedback-popup-form button[type='submit']").removeAttr("disabled")}})}});$("#feedback-popup-form-agree").change(function(){console.log($(this).prop("checked")),$(this).prop("checked")?$("#feedback-popup-form button[type='submit']").removeAttr("disabled"):$("#feedback-popup-form button[type='submit']").attr("disabled","disabled")})}function form(){function t(){$(".filters").each(function(){filterBg=$(this).find(".filters__bg"),filterActive=$(this).find(".mixitup-control-active,._active").first(),console.log(filterActive,filterActive.outerHeight()),filterBg.css({width:filterActive.outerWidth(),height:filterActive.outerHeight(),top:filterActive.position().top,left:filterActive.position().left})})}$("._mask-int").each(function(){Inputmask("9{1,5}").mask(this)}),$("._mask-oneint").each(function(){Inputmask({mask:"9",placeholder:""}).mask(this)}),$("._mask-phone").each(function(){Inputmask("+7 (999) 999-99-99").mask(this)}),$("._mask-time").each(function(){Inputmask("9{1,2}:9{1,2}").mask(this)}),$("._mask-date,._mask-calendar").each(function(){Inputmask("99.99.9999").mask(this)}),$(".filters").each(function(){$(this).find(".filters__flex").append('<div class="filters__bg"></div>')}),$(".filters__btn").click(function(){setTimeout(function(){t()},50)}),t(),setTimeout(function(){t()},250),window.addEventListener("resize",function(e){t()},!0),$(".select2").select2({minimumResultsForSearch:-1}),$(".btn-1,.btn-2,.btn-3, .btn-4, .btn-5").each(function(){$(this).html(`<span class='button-content'><span>${$(this).html()}</span><span>${$(this).html()}</span></span>`)})}function header(){let e=$(".header__hidden-menu"),t=$(".header__menu-btn"),o=$(".header__hidden-menu-overlay"),i=$(".front-page").length,n=$(".header");var a=$("html, body");function s(){o.stop().fadeOut(),$("body").removeClass("_open-menu"),t.removeClass("_open"),e.stop().slideUp()}window.location.hash&&$(window.location.hash).length&&a.animate({scrollTop:$(window.location.hash).offset().top-80},400),$('a[href*="#"]').click(function(){return $($.attr(this,"href")).length&&a.animate({scrollTop:$($.attr(this,"href")).offset().top-80},400),!1}),t.click(function(){$(this).hasClass("_open")?s():($("body").addClass("_open-menu"),o.stop().fadeIn(),e.stop().slideDown({start:function(){$(this).css({display:"flex"})}}),t.addClass("_open"))}),o.click(function(){s()});let l=$(window).scrollTop();i&&(l=2*window.innerHeight),5<l?n.addClass("_bg"):n.removeClass("_bg"),$(window).scroll(()=>{t.hasClass("_open")&&s();var e=$(window).scrollTop();5<e?n.addClass("_bg"):n.removeClass("_bg"),e>l?n.addClass("_header-hidden"):n.removeClass("_header-hidden"),e<=10&&n.removeClass("_header-hidden"),l=e,i&&l<=2*window.innerHeight&&(l=2*window.innerHeight)})}function hoverCursor(){$(".hoverCursor").length&&$(".hoverCursor").each(function(){let e=$(this).parent(),i=$(this);e.on("mousemove",function(e){var t=$(this).offset(),o=e.pageX-t.left-35,t=e.pageY-t.top-35;gsap.to(i,.03,{left:o,top:t,ease:Power4.easOut})})})}function mixiltup(){$(".mixiltup").length&&mixitup(".mixiltup",{selectors:{target:".mix"}})}function paginator(){$(".paginator__more").click(function(){$(this).closest(".paginator").addClass("_view-hidden")})}function popupClose(e){let t=$(e);t.removeClass("_animate"),setTimeout(function(){t.removeClass("_display"),$("body").removeClass("_popup-open")},400)}function popupOpen(e){$("body").addClass("_popup-open"),$(".popup._display").length&&$(".popup._display").each(function(){popupClose("#"+$(this).attr("id"))});let t=$(e);t.addClass("_display"),setTimeout(function(){t.addClass("_animate")},100)}function popup(){$("[data-popup]").click(function(){popupOpen($(this).data("popup"))}),$(".open-video").click(function(){$(".video-popup").fadeIn(),$(".video-popup__wrap").html('<video autoplay src="'+$(".open-video").data("video")+'"/>')}),$(".video-popup__overlay ,.video-popup__close").click(function(){$(this).closest(".video-popup").stop().fadeOut(function(){$(".video-popup__wrap").html("")})}),$(".popup__overlay ,.popup__close").click(function(){popupClose("#"+$(this).closest(".popup").attr("id"))}),$(".popup-location__overlay ,.popup-location__close").click(function(){$(this).closest(".popup-location").fadeOut()})}$(function(){}),$(function(){}),$(function(){}),$(function(){}),$(function(){}),$(function(){}),$(function(){}),$(function(){load=!0,setCookie("load","true")});var vh=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${vh}px`);var width=window.innerWidth;function video(){$(document).click(function(e){$(e.target).closest(".video-click-play").length||$(".video-click-play").each(function(){$(this).removeClass("_play"),this.pause()})}),$(".video-click-play").click(function(){this.play();let e=this;$(this).addClass("_play"),this.onended=function(){e.currentTime=0,e.classList.remove("_play")}})}window.addEventListener("resize",()=>{var e;width!=window.innerWidth&&(e=.01*window.innerHeight,document.documentElement.style.setProperty("--vh",`${e}px`),width=window.innerWidth)}),$(function(){header(),form(),aosInit(),hoverCursor(),paginator(),bigslider(),locationlist(),mixiltup(),popup(),video(),feedbackForm(),locationPage(),frontPage()});